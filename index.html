<!DOCTYPE html>
<html>
  <head>
    <title>New Tab</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="styl.css">
    <link rel="icon" href="logo.png">
    <link href="https://fonts.cdnfonts.com/css/sharp-sans" rel="stylesheet">
  </head>
  <body bgcolor="#2b2a33">
    <div class="container">
      <div class="logo-container">
          <img src="logo.png" class="logo">
          <span class="title">&nbspFirefox</span>
      </div class="logo-container">
<br>
      <form action="https://www.google.com/search" method="GET">
        <input id="search" type="text" name="q" placeholder="Search with Google or enter address">
      </form>
<br>
        <div class="shortcuts">
            <div class="shortcut">
                <a href="https://login.tailscale.com/admin/machines"><button id="tailscale_button"></button></a>
                <p id="Tailscale">Tailscale</p>
            </div>
            <div class="shortcut">
                <a href="https://192.168.1.254:9090"><button id="cockpit_button"></button></a>
                <p>Cockpit</p>
            </div>
            <div class="shortcut">
                <a href="https://192.168.1.254:9443"><button id="portainer_button"></button></a>
                <p>Portainer</p>
            </div>
            <div class="shortcut">
                <a href="http://192.168.1.254:3001"><button id="dash_button"></button></a>
                <p>Dash</p>
            </div>
            <div class="shortcut">
               <a href="http://192.168.1.254:7575/board"><button id="homarr_button"></button></a>
                <p>Homarr</p>
            </div>
            <div class="shortcut">
                <a href="http://192.168.1.254:8888/admin/index.php"><button id="pihole_button"></button></a>
                <p>Pi-hole</p>
            </div>
            <div class="shortcut">
                <a href="https://192.168.1.254"><button id="nextcloud_button"></button></a>
                <p>Nextcloud</p>
            </div>
            <div class="shortcut">
                <a href="https://192.168.1.254:8096"><button id="jellyfin_button"></button></a>
                <p>Jellyfin</p>
            </div>
            <div class="shortcut">
                <a href="http://192.168.1.254:5000/home"><button id="kavita_button"></button></a>
                <p>Kavita</p>
            </div>
            <div class="shortcut">
              <a href="http://192.168.1.254:40/dashboard"><button id="azuracast_button"></button></a>
              <p>AzuraCast</p>
            </div>

            <div class="shortcut">
              <a href="http://192.168.1.254:9925"><button id="mealie_button"></button></a>
              <p>Mealie</p>
            </div>
            <div class="shortcut">
              <a href="http://192.168.1.254:5800/"><button id="jdownloader2_button"></button></a>
              <p>Jdownload</p>
            </div>
            <div class="shortcut">
              <a href="http://192.168.1.254:8287/HRProprietary/HRConvert2/convertCore.php"><button id="hrconvert2_button"></button></a>
              <p>HRConvert</p>
            </div>
            </div>
          </div class="shortcuts">
    </div class="container">
    <a href="calc.html"><button id="kalkulator"></button></a>
    <div id="calc-toggle-container">
      <span id="calc-toggle-btn">Calc</span>
    </div>
    
    <!-- Kontener dla kalkulatora -->
    <div id="calc-sidebar">
      <div class="calculator">
        <div class="display">
          <div class="history" id="history"></div>
          <div id="current">0</div>
        </div>
        <div class="mode-toggle">
          <button id="deg-mode" class="active-mode">DEG</button>
          <button id="rad-mode">RAD</button>
        </div>
        <div class="buttons" id="buttons">
          <!-- Przyciski kalkulatora będą dodane przez JavaScript -->
        </div>
      </div>
    </div>
    
    <style>
    /* Style dla przycisku i wysuwającego się kalkulatora */
    #calc-toggle-container {
      position: fixed;
      top: auto;
      right:0%;
      transform: translateY(-50%);
      z-index: 999;
    }
    
    #calc-toggle-btn {
      display: block;
      background-color: #f44336;
      color: white;
      padding: 15px 10px;
      cursor: pointer;
      writing-mode: vertical-lr;
      transform: rotate(180deg);
      border-radius: 5px 5px 5px 5px;
      font-family: 'Arial', sans-serif;
      font-weight: bold;
      transition: background-color 0.3s;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2);
    }
    
    #calc-toggle-btn:hover {
      background-color: #e53935;
    }
    
    #calc-sidebar {
      position: fixed;
      top: 50%;
      right: -420px; /* Początkowa pozycja poza ekranem */
      transform: translateY(-50%);
      transition: right 0.4s ease-in-out;
      z-index: 998;
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
    }
    
    #calc-sidebar.active {
      right: 0; /* Pozycja po wysunięciu */
    }
    
    /* Style kalkulatora - zmodyfikowane z oryginalnego kodu */
    .calculator {
      background-color: #333;
      border-radius: 10px;
      width: 100%;
      max-width: 420px;
      overflow: hidden;
    }
    
    .display {
      background-color: #222;
      color: #fff;
      text-align: right;
      padding: 20px;
      font-size: 2rem;
      min-height: 80px;
      overflow: auto;
      font-family: 'Arial', sans-serif;
    }
    
    .history {
      color: #aaa;
      font-size: 0.9rem;
      margin-bottom: 5px;
      min-height: 20px;
      font-family: 'Arial', sans-serif;
    }
    
    .buttons {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 1px;
      background-color: #222;
      padding: 1px;
    }
    
    .buttons button {
      border: none;
      outline: none;
      background-color: #444;
      color: #fff;
      font-size: 1.25rem;
      padding: 15px 0;
      cursor: pointer;
      transition: background-color 0.2s;
      font-family: 'Arial', sans-serif;
    }
    
    .buttons button:hover {
      background-color: #555;
    }
    
    .buttons button:active {
      background-color: #666;
    }
    
    .buttons .operator {
      background-color: #2a2a2a;
    }
    
    .buttons .special {
      background-color: #2a2a2a;
    }
    
    .buttons .equals {
      background-color: #f44336;
    }
    
    .buttons .equals:hover {
      background-color: #e53935;
    }
    
    .buttons .clear {
      background-color: #f44336;
    }
    
    .buttons .clear:hover {
      background-color: #e53935;
    }
    
    .mode-toggle {
      display: flex;
      justify-content: center;
      background-color: #222;
      padding: 10px;
    }
    
    .mode-toggle button {
      margin: 0 5px;
      padding: 8px 12px;
      border-radius: 5px;
      font-size: 0.9rem;
      background-color: #444;
      color: #fff;
      border: none;
      cursor: pointer;
      font-family: 'Arial', sans-serif;
    }
    
    .mode-toggle .active-mode {
      background-color: #f44336;
    }
    </style>
    
    <script>
    // Funkcja do pokazywania/ukrywania kalkulatora
    document.getElementById('calc-toggle-btn').addEventListener('click', function() {
      document.getElementById('calc-sidebar').classList.toggle('active');
    });
    
    // Konfiguracja kalkulatora
    const calculator = {
      displayValue: '0',
      firstOperand: null,
      waitingForSecondOperand: false,
      operator: null,
      memory: 0,
      history: '',
      angle: 'deg', // domyślnie stopnie
      buttons: [
        { text: 'sin', value: 'sin', type: 'function' },
        { text: 'cos', value: 'cos', type: 'function' },
        { text: 'tan', value: 'tan', type: 'function' },
        { text: '(', value: '(', type: 'parenthesis' },
        { text: ')', value: ')', type: 'parenthesis' },
        { text: 'x²', value: 'square', type: 'function' },
        { text: 'x³', value: 'cube', type: 'function' },
        { text: 'xⁿ', value: 'power', type: 'operator' },
        { text: '√', value: 'sqrt', type: 'function' },
        { text: '%', value: 'percent', type: 'operator' },
        { text: 'ln', value: 'ln', type: 'function' },
        { text: 'log', value: 'log', type: 'function' },
        { text: '7', value: '7', type: 'number' },
        { text: '8', value: '8', type: 'number' },
        { text: '9', value: '9', type: 'number' },
        { text: 'π', value: 'pi', type: 'constant' },
        { text: 'e', value: 'e', type: 'constant' },
        { text: '4', value: '4', type: 'number' },
        { text: '5', value: '5', type: 'number' },
        { text: '6', value: '6', type: 'number' },
        { text: 'MC', value: 'mc', type: 'memory' },
        { text: 'MR', value: 'mr', type: 'memory' },
        { text: '1', value: '1', type: 'number' },
        { text: '2', value: '2', type: 'number' },
        { text: '3', value: '3', type: 'number' },
        { text: 'M+', value: 'mplus', type: 'memory' },
        { text: 'M-', value: 'mminus', type: 'memory' },
        { text: '0', value: '0', type: 'number' },
        { text: '.', value: '.', type: 'decimal' },
        { text: '±', value: 'negate', type: 'function' },
        { text: 'C', value: 'clear', type: 'clear', class: 'clear' },
        { text: '⌫', value: 'backspace', type: 'clear' },
        { text: '÷', value: '/', type: 'operator', class: 'operator' },
        { text: '×', value: '*', type: 'operator', class: 'operator' },
        { text: '−', value: '-', type: 'operator', class: 'operator' },
        { text: '=', value: 'equals', type: 'equals', class: 'equals', colspan: 2 },
        { text: '+', value: '+', type: 'operator', class: 'operator' },
        { text: 'ANS', value: 'ans', type: 'memory' },
        { text: 'EXP', value: 'exp', type: 'function' }
      ]
    };
    
    // Ostatnia odpowiedź
    let lastAnswer = 0;
    
    // Generowanie przycisków
    function generateButtons() {
      const buttonContainer = document.getElementById('buttons');
      buttonContainer.innerHTML = '';
      calculator.buttons.forEach(button => {
        const buttonElement = document.createElement('button');
        buttonElement.textContent = button.text;
        buttonElement.setAttribute('data-value', button.value);
        buttonElement.setAttribute('data-type', button.type);
        if (button.class) {
          buttonElement.classList.add(button.class);
        }
        if (button.colspan) {
          buttonElement.style.gridColumn = `span ${button.colspan}`;
        }
        buttonElement.addEventListener('click', () => handleButtonClick(button));
        buttonContainer.appendChild(buttonElement);
      });
    }
    
    // Obsługa kliknięcia przycisku
    function handleButtonClick(button) {
      const { value, type } = button;
      switch (type) {
        case 'number':
        case 'decimal':
          inputDigit(value);
          break;
        case 'operator':
          handleOperator(value);
          break;
        case 'function':
          handleFunction(value);
          break;
        case 'equals':
          handleEquals();
          break;
        case 'clear':
          handleClear(value);
          break;
        case 'memory':
          handleMemory(value);
          break;
        case 'constant':
          handleConstant(value);
          break;
        case 'parenthesis':
          handleParenthesis(value);
          break;
      }
      updateDisplay();
    }
    
    // Obsługa wprowadzania cyfr
    function inputDigit(digit) {
      const { displayValue, waitingForSecondOperand } = calculator;
      if (waitingForSecondOperand) {
        calculator.displayValue = digit;
        calculator.waitingForSecondOperand = false;
      } else {
        calculator.displayValue = displayValue === '0' ? digit : displayValue + digit;
      }
    }
    
    // Obsługa operatora
    function handleOperator(nextOperator) {
      const { firstOperand, displayValue, operator } = calculator;
      const inputValue = parseFloat(displayValue);
    
      if (operator && calculator.waitingForSecondOperand) {
        calculator.operator = nextOperator;
        return;
      }
    
      if (firstOperand === null && !isNaN(inputValue)) {
        calculator.firstOperand = inputValue;
      } else if (operator) {
        const result = calculate(firstOperand, inputValue, operator);
        calculator.displayValue = `${parseFloat(result.toFixed(10))}`;
        calculator.firstOperand = result;
        calculator.history = `${calculator.history} ${inputValue} ${operator} = ${result}`;
      }
    
      calculator.waitingForSecondOperand = true;
      calculator.operator = nextOperator;
    }
    
    // Funkcja obliczająca wynik
    function calculate(firstOperand, secondOperand, operator) {
      switch (operator) {
        case '+':
          return firstOperand + secondOperand;
        case '-':
          return firstOperand - secondOperand;
        case '*':
          return firstOperand * secondOperand;
        case '/':
          return firstOperand / secondOperand;
        case 'power':
          return Math.pow(firstOperand, secondOperand);
        case 'percent':
          return firstOperand * (secondOperand / 100);
        default:
          return secondOperand;
      }
    }
    
    // Obsługa funkcji matematycznych
    function handleFunction(func) {
      const { displayValue } = calculator;
      const inputValue = parseFloat(displayValue);
      if (isNaN(inputValue)) return;
    
      let result;
      switch (func) {
        case 'sin':
          const sinInput = calculator.angle === 'deg' ? inputValue * Math.PI / 180 : inputValue;
          result = Math.sin(sinInput);
          calculator.history = `sin(${inputValue}) = ${result}`;
          break;
        case 'cos':
          const cosInput = calculator.angle === 'deg' ? inputValue * Math.PI / 180 : inputValue;
          result = Math.cos(cosInput);
          calculator.history = `cos(${inputValue}) = ${result}`;
          break;
        case 'tan':
          const tanInput = calculator.angle === 'deg' ? inputValue * Math.PI / 180 : inputValue;
          result = Math.tan(tanInput);
          calculator.history = `tan(${inputValue}) = ${result}`;
          break;
        case 'square':
          result = Math.pow(inputValue, 2);
          calculator.history = `sqr(${inputValue}) = ${result}`;
          break;
        case 'cube':
          result = Math.pow(inputValue, 3);
          calculator.history = `cube(${inputValue}) = ${result}`;
          break;
        case 'sqrt':
          result = Math.sqrt(inputValue);
          calculator.history = `sqrt(${inputValue}) = ${result}`;
          break;
        case 'ln':
          result = Math.log(inputValue);
          calculator.history = `ln(${inputValue}) = ${result}`;
          break;
        case 'log':
          result = Math.log10(inputValue);
          calculator.history = `log(${inputValue}) = ${result}`;
          break;
        case 'negate':
          result = -inputValue;
          calculator.history = `negate(${inputValue}) = ${result}`;
          break;
        case 'exp':
          calculator.displayValue += 'e';
          return;
      }
    
      calculator.displayValue = `${parseFloat(result.toFixed(10))}`;
      calculator.firstOperand = result;
      calculator.waitingForSecondOperand = true;
      lastAnswer = result;
    }
    
    // Obsługa stałych matematycznych
    function handleConstant(constant) {
      switch (constant) {
        case 'pi':
          calculator.displayValue = Math.PI.toString();
          break;
        case 'e':
          calculator.displayValue = Math.E.toString();
          break;
      }
      calculator.waitingForSecondOperand = false;
    }
    
    // Obsługa nawiasów
    function handleParenthesis(parenthesis) {
      if (calculator.displayValue === '0' || calculator.waitingForSecondOperand) {
        calculator.displayValue = parenthesis;
        calculator.waitingForSecondOperand = false;
      } else {
        calculator.displayValue += parenthesis;
      }
    }
    
    // Obsługa równości
    function handleEquals() {
      const { firstOperand, displayValue, operator } = calculator;
      const inputValue = parseFloat(displayValue);
    
      if (!operator || isNaN(inputValue)) return;
    
      const result = calculate(firstOperand, inputValue, operator);
      calculator.displayValue = `${parseFloat(result.toFixed(10))}`;
      calculator.history = `${firstOperand} ${operator} ${inputValue} = ${result}`;
      calculator.firstOperand = null;
      calculator.waitingForSecondOperand = false;
      calculator.operator = null;
      lastAnswer = result;
    }
    
    // Czyszczenie
    function handleClear(clearType) {
      if (clearType === 'clear') {
        calculator.displayValue = '0';
        calculator.firstOperand = null;
        calculator.waitingForSecondOperand = false;
        calculator.operator = null;
        calculator.history = '';
      } else if (clearType === 'backspace') {
        calculator.displayValue = calculator.displayValue.toString().slice(0, -1);
        if (calculator.displayValue === '') {
          calculator.displayValue = '0';
        }
      }
    }
    
    // Obsługa funkcji pamięci
    function handleMemory(memoryFunc) {
      const { displayValue } = calculator;
      const inputValue = parseFloat(displayValue);
    
      switch (memoryFunc) {
        case 'mc':
          calculator.memory = 0;
          break;
        case 'mr':
          calculator.displayValue = calculator.memory.toString();
          break;
        case 'mplus':
          calculator.memory += inputValue;
          break;
        case 'mminus':
          calculator.memory -= inputValue;
          break;
        case 'ans':
          calculator.displayValue = lastAnswer.toString();
          break;
      }
    }
    
    // Aktualizacja wyświetlacza
    function updateDisplay() {
      document.getElementById('current').textContent = calculator.displayValue;
      document.getElementById('history').textContent = calculator.history;
    }
    
    // Inicjalizacja kalkulatora
    function initCalculator() {
      generateButtons();
    
      // Obsługa przełączania trybów (stopnie/radiany)
      document.getElementById('deg-mode').addEventListener('click', function() {
        calculator.angle = 'deg';
        this.classList.add('active-mode');
        document.getElementById('rad-mode').classList.remove('active-mode');
      });
    
      document.getElementById('rad-mode').addEventListener('click', function() {
        calculator.angle = 'rad';
        this.classList.add('active-mode');
        document.getElementById('deg-mode').classList.remove('active-mode');
      });
    
      // Obsługa klawiatury (tylko gdy kalkulator jest widoczny)
      document.addEventListener('keydown', function(event) {
        if (!document.getElementById('calc-sidebar').classList.contains('active')) {
          return; // Ignoruj klawiaturę, gdy kalkulator jest ukryty
        }
        
        const key = event.key;
        if (/\d/.test(key)) {
          inputDigit(key);
        } else if (key === '.') {
          inputDigit('.');
        } else if (['+', '-', '*', '/'].includes(key)) {
          handleOperator(key);
        } else if (key === 'Enter' || key === '=') {
          handleEquals();
        } else if (key === 'Backspace') {
          handleClear('backspace');
        } else if (key === 'Escape') {
          handleClear('clear');
        }
        updateDisplay();
      });
    }
    
    // Inicjalizacja po załadowaniu strony
    document.addEventListener('DOMContentLoaded', initCalculator);
    
    // Jeśli kod dodajemy do istniejącej strony, która już mogła się załadować, inicjalizujemy teraz
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      initCalculator();
    }
    </script>
  </body>
</html>
